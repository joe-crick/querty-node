"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("simple-get"));function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const c=/2\d{2}/;exports.nodeProvider=async function e(r,o=0,a,s){try{a.cancel={abort:()=>{}};return await new Promise(((e,n)=>{t.default.concat(r,(function(t,r,o){t||!c.test(r.statusCode.toString())?n(t||r.statusCode):e({status:r.statusCode,data:a.dataExtractor(o)})}))}))}catch(t){if(function(e,t,r){return 401===e&&0===t&&r.hasRefresh()}(t,o,a)){const t=await async function(e,t,r){await t.refresh();const o=t.path.hasOwnProperty(r),c=o&&o.options||t.options;return n(n({},e),{},{headers:c.headers})}(r,a,s);return e(t,1,a)}throw new Error(t)}};
